---
- name: When_Condition example
  hosts: all
  become: True
  gather_facts: True

  tasks:
  - name: Apache Uninstall
    yum: name=httpd state=absent

  - name: Apache installation
    yum: name=httpd state=latest

  - name: start the apapche service
    service: name=httpd state=restarted

  - name: Apapche iNstallation on Ubuntu
    apt: name=apache2 state=latest
    when: ansible_distribution == 'Ubuntu'
